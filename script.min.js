document.addEventListener("DOMContentLoaded",function(){window.analyticsTools&&"function"==typeof window.analyticsTools.setupAnalytics&&(window.analyticsTools.setupAnalytics(),window.analyticsTools.setupVisitorTracking(),window.analyticsTools.startRealtimeTracking());const e=document.querySelector(".nav-links"),t=document.querySelector(".hamburger");console.log("Hamburger element:",t),console.log("Nav menu element:",e),t.addEventListener("click",function(o){o.stopPropagation(),console.log("Hamburger clicked"),e.classList.toggle("active"),t.classList.toggle("active"),e.offsetHeight}),document.addEventListener("click",function(o){e.contains(o.target)||t.contains(o.target)||!e.classList.contains("active")||(e.classList.remove("active"),t.classList.remove("active"))}),document.querySelectorAll(".nav-links a").forEach(o=>{o.addEventListener("click",function(){e.classList.remove("active"),t.classList.remove("active")})});const o=document.querySelector(".slideshow-background");if(o){const e=["images/light-ball-runner.png","images/Digital-Twin.png","images/vr-simulation.png","images/full-portfolio.png"];let t=0;e.map(e=>{const t=new Image;return t.src=e,t});o.style.backgroundImage=`url('${e[0]}')`,setInterval(function(){const i=(t+1)%e.length,n=document.createElement("div");n.style.position="absolute",n.style.top="0",n.style.left="0",n.style.width="100%",n.style.height="100%",n.style.backgroundImage=`url('${e[i]}')`,n.style.backgroundSize="cover",n.style.backgroundPosition="center",n.style.filter="brightness(0.2) blur(3px)",n.style.opacity="0",n.style.transition="opacity 1s ease-in-out",n.style.zIndex="0",o.parentNode.insertBefore(n,o),setTimeout(()=>{n.style.opacity="1"},50),setTimeout(()=>{o.style.backgroundImage=`url('${e[i]}')`,n.remove(),t=i},1050)},5e3)}document.querySelectorAll("section h2").forEach(e=>{e.classList.add("fade-in")}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault(),document.querySelector(this.getAttribute("href")).scrollIntoView({behavior:"smooth"})})});const i=document.querySelectorAll(".nav-links a"),n=document.querySelectorAll("section");window.addEventListener("scroll",()=>{let e="";n.forEach(t=>{const o=t.offsetTop,i=t.clientHeight;scrollY>=o-i/3&&(e=t.getAttribute("id"))}),i.forEach(t=>{t.classList.remove("active"),t.getAttribute("href").slice(1)===e&&t.classList.add("active")})});document.querySelectorAll(".view-project").forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();let t=this.getAttribute("data-video-url");if(!t)return void console.error("No video URL found for this button");if(console.log("Using video URL:",t),t.includes("drive.google.com/file/d/")){const e=t.match(/\/d\/([^\/]+)/);if(e&&e[1]){t=`https://drive.google.com/file/d/${e[1]}/preview`,console.log("Converted to Google Drive preview URL:",t)}}const o=document.createElement("div");o.className="video-modal",o.style.position="fixed",o.style.top="0",o.style.left="0",o.style.width="100%",o.style.height="100%",o.style.backgroundColor="rgba(0, 0, 0, 0.9)",o.style.display="flex",o.style.justifyContent="center",o.style.alignItems="center",o.style.zIndex="1000",o.innerHTML=`\n                <div class="video-wrapper" style="position: relative; width: 80%; max-width: 900px; background: #112240; border-radius: 8px; overflow: hidden;">\n                    <button class="close-modal" style="position: absolute; top: 10px; right: 10px; width: 30px; height: 30px; background: #64ffda; border: none; border-radius: 50%; cursor: pointer; display: flex; align-items: center; justify-content: center;">\n                        <i class="fas fa-times" style="color: #0a192f;"></i>\n                    </button>\n                    <div class="video-container" style="padding-top: 56.25%; position: relative;">\n                        <iframe \n                            src="${t}" \n                            style="position: absolute; top: 0; left: 0; width: 100%; height: 100%; border: none;"\n                            frameborder="0" \n                            allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" \n                            allowfullscreen\n                        ></iframe>\n                    </div>\n                </div>\n            `,document.body.appendChild(o),document.body.style.overflow="hidden";const i=document.querySelector("nav");i&&(i.style.display="none");o.querySelector(".close-modal").addEventListener("click",function(){o.remove(),document.body.style.overflow="",i&&(i.style.display="")}),o.addEventListener("click",function(e){e.target===o&&(o.remove(),document.body.style.overflow="",i&&(i.style.display=""))}),document.addEventListener("keydown",function(e){"Escape"===e.key&&document.querySelector(".video-modal")&&(o.remove(),document.body.style.overflow="",i&&(i.style.display=""))})})});const s=new IntersectionObserver(e=>{e.forEach(e=>{if(e.isIntersecting){const t=e.target;t.dataset.src&&(t.src=t.dataset.src,s.unobserve(t))}})});document.querySelectorAll("img[data-src]").forEach(e=>{s.observe(e)});(()=>{Object.entries({"section h2":"scale-in",".section-title":"scale-in",".portfolio-item:nth-child(4n+1)":"slide-in-left",".portfolio-item:nth-child(4n+2)":"slide-in-right",".portfolio-item:nth-child(4n+3)":"scale-in",".portfolio-item:nth-child(4n+4)":"rotate-in",".hero h1":"slide-in-left",".hero p":"slide-in-right",".hero .cta-button":"scale-in",".video-description":"fade-in",".about-content":"fade-in",".about-image":"rotate-in",".skill-card":"scale-in",".contact-form":"fade-in",".nav-links li":"fade-in","footer p":"fade-in",".social-links a":"scale-in",".portfolio-grid":"fade-in",".video-thumbnail":"scale-in",".portfolio-link":"scale-in",".view-project":"scale-in"}).forEach(([e,t])=>{document.querySelectorAll(e).forEach((e,o)=>{e.classList.contains("fade-in")||e.classList.contains("slide-in-left")||e.classList.contains("slide-in-right")||e.classList.contains("scale-in")||e.classList.contains("rotate-in")||(e.classList.add(t),o<5&&e.classList.add(`delay-${o+1}`))})});const e=new IntersectionObserver(e=>{e.forEach(e=>{e.isIntersecting?e.target.classList.add("appear"):e.target.classList.remove("appear")})},{threshold:[0,.1,.2],rootMargin:"100px 0px 0px 0px"});document.querySelectorAll(".fade-in, .slide-in-left, .slide-in-right, .scale-in, .rotate-in").forEach(t=>{e.observe(t)}),setTimeout(()=>{document.querySelectorAll(".fade-in, .slide-in-left, .slide-in-right, .scale-in, .rotate-in").forEach(e=>{const t=e.getBoundingClientRect();t.top<window.innerHeight&&t.bottom>=0&&e.classList.add("appear")})},300)})();const l=document.getElementById("contact-form");l&&l.addEventListener("submit",function(e){e.preventDefault(),alert("Thank you for your message! I will get back to you soon."),this.reset()})});