!function(){"use strict";let e,n,o,t,i,s,d=document.getElementById("threejs-canvas"),r=!1,c={x:0,y:0},a={x:0,y:0},l={x:0,y:0};const u="images/robot_playground.glb",E=1,m={x:5,y:0,z:0},w=6,f=.005;function h(){if(!d)return void console.error("Canvas element not found");d.classList.add("draggable"),e=new THREE.Scene;const r=window.innerWidth/window.innerHeight;n=new THREE.PerspectiveCamera(60,r,.1,1e3),n.position.set(0,0,w),n.lookAt(0,0,0),o=new THREE.WebGLRenderer({canvas:d,alpha:!0,antialias:!0}),o.setSize(window.innerWidth,window.innerHeight),o.setPixelRatio(Math.min(window.devicePixelRatio,2));const c=new THREE.AmbientLight(16777215,.6);e.add(c);const a=new THREE.DirectionalLight(16777215,.8);a.position.set(5,5,5),e.add(a);const l=new THREE.DirectionalLight(55807,.4);l.position.set(-5,0,-5),e.add(l),s=new THREE.Clock,function(){const n=THREE.GLTFLoader||window.GLTFLoader;if(!n)return void console.error("GLTFLoader not found!");const o=new THREE.LoadingManager;o.onError=function(e){console.warn("Error loading resource (ignoring):",e)};const s=new n(o),d=new THREE.MeshStandardMaterial({color:13421772,roughness:.7,metalness:.3});s.load(u,function(n){t=n.scene,t.traverse(function(e){e.isMesh&&(e.material||(e.material=d.clone()),e.castShadow=!0,e.receiveShadow=!0)});const o=(new THREE.Box3).setFromObject(t).getCenter(new THREE.Vector3);t.position.x=-o.x,t.position.y=-o.y,t.position.z=-o.z,t.scale.set(E,E,E),t.position.x+=m.x,t.position.y+=m.y,t.position.z+=m.z,n.animations&&n.animations.length>0&&(i=new THREE.AnimationMixer(t),n.animations.forEach(e=>{i.clipAction(e).play()})),e.add(t),x();const s=document.getElementById("model-loader");s&&(s.classList.add("hidden"),setTimeout(()=>s.remove(),500));const r=document.querySelector(".drag-me-text");r&&r.classList.add("visible"),console.log("ðŸ¤– Robot model loaded successfully!")},function(e){if(e.total>0){const n=Math.round(e.loaded/e.total*100);n%25==0&&console.log("Model loading: "+n+"%")}},function(e){console.error("Error loading robot model:",e)})}(),window.addEventListener("resize",x,!1),window.addEventListener("scroll",v,!1),document.addEventListener("mousemove",function(e){const n=.75*window.innerWidth;e.clientX>n?(d.style.pointerEvents="auto",d.style.cursor="grab"):(d.style.pointerEvents="none",d.style.cursor="default")},!1),d.addEventListener("mousedown",y,!1),document.addEventListener("mousemove",L,!1),document.addEventListener("mouseup",g,!1),d.addEventListener("touchstart",T,!1),document.addEventListener("touchmove",p,{passive:!1}),document.addEventListener("touchend",R,!1),H()}function v(){}function x(){if(n.aspect=window.innerWidth/window.innerHeight,n.updateProjectionMatrix(),o.setSize(window.innerWidth,window.innerHeight),o.setPixelRatio(Math.min(window.devicePixelRatio,2)),t){const e=E;window.innerWidth<768?(t.position.x=m.x-1.5,t.scale.set(.6*e,.6*e,.6*e)):window.innerWidth<1200?(t.position.x=m.x-1,t.scale.set(.8*e,.8*e,.8*e)):(t.position.x=m.x,t.scale.set(e,e,e))}}function y(e){d.requestPointerLock&&d.requestPointerLock(),r=!0,c={x:e.clientX,y:e.clientY}}function L(e){if(!r||!t)return;const n=void 0!==e.movementX?e.movementX:e.clientX-c.x,o=void 0!==e.movementY?e.movementY:e.clientY-c.y;a.y+=.01*n,a.x+=.01*o,c={x:e.clientX,y:e.clientY}}function g(){r=!1,document.exitPointerLock&&document.exitPointerLock()}function T(e){1===e.touches.length&&(r=!0,c={x:e.touches[0].clientX,y:e.touches[0].clientY})}function p(e){if(!r||!t||1!==e.touches.length)return;e.preventDefault();const n=e.touches[0].clientX-c.x,o=e.touches[0].clientY-c.y;a.y+=.01*n,a.x+=.01*o,c={x:e.touches[0].clientX,y:e.touches[0].clientY}}function R(){r=!1}function H(){requestAnimationFrame(H);const d=s.getDelta();i&&i.update(d),t&&(r?(l.x=a.x,l.y=a.y):(a.y+=f,l.x+=.1*(a.x-l.x),l.y+=.1*(a.y-l.y)),t.rotation.x=l.x,t.rotation.y=l.y),o.render(e,n)}let M=0;!function e(){return M++,"undefined"==typeof THREE?(1===M&&console.log("Waiting for THREE.js to load..."),M>100?void console.error("THREE.js failed to load after 5 seconds. Check your internet connection."):void setTimeout(e,50)):THREE.GLTFLoader||"undefined"!=typeof GLTFLoader?(console.log("THREE.js and GLTFLoader loaded successfully!"),void("loading"===document.readyState?document.addEventListener("DOMContentLoaded",h):h())):(1===M&&console.log("THREE.js loaded, waiting for GLTFLoader..."),M>100?void console.error("GLTFLoader failed to load after 5 seconds."):void setTimeout(e,50))}()}();