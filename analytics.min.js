function setupAnalytics(){let e=[25,50,75,100],t={};const o=new IntersectionObserver(e=>{e.forEach(e=>{if(e.isIntersecting){const t=e.target.id;gtag("event","section_view",{section_name:t,time_on_page:Math.round((new Date-n)/1e3)}),console.log(`Section viewed: ${t}`)}})},{threshold:.5});["home","portfolio","skills","contact"].forEach(e=>{const t=document.getElementById(e);t&&o.observe(t)}),window.addEventListener("scroll",()=>{const o=Math.round(window.scrollY/(document.body.scrollHeight-window.innerHeight)*100);e.forEach(e=>{o>=e&&!t[e]&&(t[e]=!0,gtag("event","scroll_depth",{depth:e,page:window.location.pathname}),console.log(`Scroll depth reached: ${e}%`))})},{passive:!0}),document.querySelectorAll('a[href^="http"]').forEach(e=>{e.addEventListener("click",function(e){gtag("event","outbound_click",{link_url:this.href,link_text:this.textContent.trim()}),console.log(`Outbound link clicked: ${this.href}`)})}),document.querySelectorAll(".view-project, .portfolio-link").forEach(e=>{e.addEventListener("click",function(e){const t=this.closest(".portfolio-item"),o=t?t.querySelector("h4").textContent:"Unknown Project";gtag("event","portfolio_interaction",{project_title:o,interaction_type:this.classList.contains("view-project")?"video_view":"portfolio_link"}),console.log(`Portfolio interaction: ${o}`)})});const n=new Date;let i={};const s=[30,60,120,300];setInterval(()=>{const e=Math.round((new Date-n)/1e3);s.forEach(t=>{e>=t&&!i[t]&&(i[t]=!0,gtag("event","time_on_page",{duration:t,page:window.location.pathname}),console.log(`Time on page: ${t} seconds`))})},1e3)}function initializeUserCounter(){console.log("User counter would be initialized here if Firebase was set up")}function setupVisitorTracking(){const e={timestamp:(new Date).toISOString(),userAgent:navigator.userAgent,platform:navigator.platform,language:navigator.language,languages:navigator.languages?.join(", ")||navigator.language,cookieEnabled:navigator.cookieEnabled,doNotTrack:navigator.doNotTrack||"not set",screen:`${screen.width}x${screen.height}`,viewport:`${window.innerWidth}x${window.innerHeight}`,colorDepth:screen.colorDepth,pixelRatio:window.devicePixelRatio||1,timezone:Intl.DateTimeFormat().resolvedOptions().timeZone,url:window.location.href,referrer:document.referrer||"Direct visit",sessionId:generateSessionId(),visitCount:getVisitCount(),onlineStatus:navigator.onLine?"Online":"Offline",javaEnabled:"undefined"!=typeof java,flashEnabled:getFlashVersion(),adBlocker:detectAdBlocker(),battery:"detecting...",connection:getConnectionInfo(),memory:getMemoryInfo(),concurrency:navigator.hardwareConcurrency||"unknown",touchSupport:getTouchSupport(),webGL:getWebGLInfo(),localStorage:isLocalStorageAvailable(),sessionStorage:isSessionStorageAvailable(),indexedDB:isIndexedDBAvailable()};fetch("https://ipapi.co/json/").then(e=>e.json()).then(t=>{e.ip=t.ip,e.city=t.city,e.region=t.region,e.country=t.country_name,e.isp=t.org,logVisitor(e)}).catch(()=>{e.ip="Unknown",logVisitor(e)})}function generateSessionId(){return"session_"+Math.random().toString(36).substr(2,9)+"_"+Date.now()}function getVisitCount(){const e=parseInt(localStorage.getItem("visitCount")||"0")+1;return localStorage.setItem("visitCount",e.toString()),e}function logVisitor(e){const t=JSON.parse(localStorage.getItem("uniqueVisitors")||"{}"),o=e.ip||e.userAgent.substring(0,50);t[o]?(t[o].visitCount++,t[o].lastVisit=e.timestamp,t[o].sessions.push({timestamp:e.timestamp,sessionId:e.sessionId,viewport:e.viewport,referrer:e.referrer}),console.log(`üîÑ RETURNING VISITOR: ${e.ip} (${e.city}) - Visit #${t[o].visitCount}`)):(t[o]={firstVisit:e.timestamp,lastVisit:e.timestamp,visitCount:1,ip:e.ip,city:e.city,country:e.country,isp:e.isp,browser:getBrowserInfo(e.userAgent),platform:e.platform,screen:e.screen,languages:e.languages,timezone:e.timezone,touchSupport:e.touchSupport,webGL:e.webGL,concurrency:e.concurrency,memory:e.memory,connection:e.connection,adBlocker:e.adBlocker,sessions:[{timestamp:e.timestamp,sessionId:e.sessionId,viewport:e.viewport,referrer:e.referrer}]},console.log("üïµÔ∏è NEW UNIQUE VISITOR:",e),setTimeout(()=>{console.log("\nüí° VISITOR TRACKING COMMANDS:"),console.log("   analyticsTools.showVisitorLog() - View all visitors"),console.log("   analyticsTools.clearVisitorLog() - Clear visitor data"),console.log("=".repeat(50))},2e3));const n=Object.keys(t);if(n.length>500){n.sort((e,o)=>new Date(t[e].lastVisit)-new Date(t[o].lastVisit)).slice(0,n.length-500).forEach(e=>delete t[e])}localStorage.setItem("uniqueVisitors",JSON.stringify(t)),gtag("event","visitor_tracked",{visitor_country:e.country,visitor_city:e.city,visit_count:t[o].visitCount,visitor_type:1===t[o].visitCount?"new":"returning"})}function showVisitorLog(){const e=JSON.parse(localStorage.getItem("uniqueVisitors")||"{}"),t=Object.keys(e);if(0===t.length)return void console.log("üìä No visitors logged yet");const o=t.sort((t,o)=>new Date(e[o].lastVisit)-new Date(e[t].lastVisit));console.log(`üìä UNIQUE VISITORS LOG (${t.length} unique visitors):`),console.log("=".repeat(80)),o.forEach((t,o)=>{const n=e[t],i=new Date(n.firstVisit),s=new Date(n.lastVisit),r=n.sessions.length;console.log(`\nüë§ Visitor #${o+1} | ${n.visitCount} visits | Last: ${s.toLocaleString()}`),console.log(`   üåç IP: ${n.ip} | ${n.city}, ${n.country} | ISP: ${n.isp}`),console.log(`   üíª Browser: ${n.browser} | OS: ${n.platform} | Screen: ${n.screen}`),console.log(`   üåê Languages: ${n.languages} | Timezone: ${n.timezone}`),console.log(`   üîß CPU: ${n.concurrency} cores | Memory: ${n.memory} | Touch: ${n.touchSupport}`),console.log(`   üì∂ Connection: ${n.connection} | AdBlock: ${n.adBlocker}`),console.log(`   üéÆ WebGL: ${n.webGL}`),console.log(`   üìÖ First Visit: ${i.toLocaleString()}`),r>1&&(console.log("   üîÑ Recent Sessions:"),n.sessions.slice(-3).forEach((e,t)=>{const o=new Date(e.timestamp);console.log(`      ${t+1}. ${o.toLocaleString()} | ${e.referrer}`)}))}),console.log("\nüìà Quick Stats:");const n=Object.values(e).reduce((e,t)=>e+t.visitCount,0),i=[...new Set(Object.values(e).map(e=>e.country))],s=[...new Set(Object.values(e).map(e=>e.city))],r=[...new Set(Object.values(e).map(e=>e.browser))],a=Object.values(e).filter(e=>e.visitCount>1).length;console.log(`   Total Unique Visitors: ${t.length}`),console.log(`   Total Page Views: ${n}`),console.log(`   Returning Visitors: ${a} (${Math.round(a/t.length*100)}%)`),console.log(`   Countries: ${i.join(", ")}`),console.log(`   Cities: ${s.join(", ")}`),console.log(`   Browsers: ${r.join(", ")}`)}function getBrowserInfo(e){return e.includes("Chrome")?"Chrome":e.includes("Firefox")?"Firefox":e.includes("Safari")?"Safari":e.includes("Edge")?"Edge":"Other"}function getFlashVersion(){try{return navigator.plugins["Shockwave Flash"]?"Enabled":"Disabled"}catch(e){return"Unknown"}}function detectAdBlocker(){const e=document.createElement("div");return e.innerHTML="&nbsp;",e.className="adsbox",e.style.position="absolute",e.style.left="-9999px",document.body.appendChild(e),setTimeout(()=>{const t=0===e.offsetHeight;return document.body.removeChild(e),t?"Detected":"None"},100),"Testing..."}function getConnectionInfo(){const e=navigator.connection||navigator.mozConnection||navigator.webkitConnection;return e?`${e.effectiveType||"unknown"} (${e.downlink||"unknown"} Mbps)`:"Unknown"}function getMemoryInfo(){if("memory"in performance){const e=performance.memory;return`${Math.round(e.usedJSHeapSize/1048576)}MB used / ${Math.round(e.totalJSHeapSize/1048576)}MB total`}return"Unknown"}function getTouchSupport(){return"ontouchstart"in window||navigator.maxTouchPoints>0?"Yes":"No"}function getWebGLInfo(){const e=document.createElement("canvas"),t=e.getContext("webgl")||e.getContext("experimental-webgl");if(t){const e=t.getParameter(t.RENDERER);return`${t.getParameter(t.VENDOR)} ${e}`.substring(0,50)}return"Not supported"}function isLocalStorageAvailable(){try{return localStorage.setItem("test","test"),localStorage.removeItem("test"),"Available"}catch(e){return"Blocked"}}function isSessionStorageAvailable(){try{return sessionStorage.setItem("test","test"),sessionStorage.removeItem("test"),"Available"}catch(e){return"Blocked"}}function isIndexedDBAvailable(){return"indexedDB"in window?"Available":"Not supported"}function clearVisitorLog(){localStorage.removeItem("uniqueVisitors"),localStorage.removeItem("visitCount"),console.log("üóëÔ∏è Visitor log cleared")}function startRealtimeTracking(){let e=0;["click","keydown"].forEach(t=>{document.addEventListener(t,()=>{e++,e%5==0&&console.log(`üî• User is active! ${e} interactions this session`)},{passive:!0})});let t=0;setInterval(()=>{t+=5,t%60==0&&console.log(`‚è±Ô∏è User has been on site for ${t} seconds`)},5e3)}window.analyticsTools={setupAnalytics:setupAnalytics,initializeUserCounter:initializeUserCounter,setupVisitorTracking:setupVisitorTracking,showVisitorLog:showVisitorLog,clearVisitorLog:clearVisitorLog,startRealtimeTracking:startRealtimeTracking};